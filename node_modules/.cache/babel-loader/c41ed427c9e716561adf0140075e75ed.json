{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Documents/pre-dao/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { Container, Navbar, Button, Form, Col, Row } from 'react-bootstrap';\nimport { ethers } from \"ethers\";\nimport React, { useState, useEffect } from 'react';\nimport { useConnect, useAccount } from 'wagmi';\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { isMobile } from \"react-device-detect\";\nimport sct_abi from './contracts/sct_abi.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = \"https://polygon-mumbai.g.alchemy.com/v2/LDruTtddIy66V4Lr7gEXbQgjBTdBCHzL\";\nconst defaultUserWalletState = {\n  address: '0x0000000000000000000000000000000000000000',\n  network: null,\n  connected: false\n};\nconst mumbaiChainParameter = {\n  chainId: \"0x13881\",\n  chainName: \"Mumbai\",\n  nativeCurrency: {\n    name: \"MATIC\",\n    symbol: \"MATIC\",\n    decimals: 18\n  },\n  rpcUrls: [\"https://rpc-mumbai.maticvigil.com\"],\n  blockExplorerUrls: [\"https://mumbai.polygonscan.com/\"]\n};\n\nfunction App() {\n  _s();\n\n  // Connect MetaMask Mumbai Start End //\n  const [{\n    data: accountData\n  }, disconnect] = useAccount({\n    fetchEns: true\n  });\n  let [isLoading, setIsLoading] = React.useState(false);\n  let [userWallet, setUserWallet] = React.useState(defaultUserWalletState);\n  let [buttonText, setButtonText] = React.useState('Connect Wallet');\n  const [{\n    data: connectData,\n    loading: connectDataLoading,\n    error: connectDataError\n  }, connect] = useConnect();\n  let wagmiObj;\n  connectData.connectors.map(obj => {\n    wagmiObj = obj;\n  });\n  React.useEffect(() => {\n    if (typeof window.ethereum !== 'undefined') {\n      window.ethereum.on('accountsChanged', accounts => {\n        console.log(`Wallet changed: ${accounts[0]}`);\n\n        if (accounts[0] === undefined) {\n          setUserWallet(defaultUserWalletState);\n        } else if (accounts[0] !== userWallet.address) {\n          setUserWallet(prevUserWallet => ({ ...prevUserWallet,\n            address: accounts[0]\n          }));\n        }\n      });\n      window.ethereum.on('chainChanged', chainId => {\n        console.log(`Network changed: ${chainId}`);\n\n        if (chainId !== '0x13881') {\n          window.location.reload();\n        }\n      });\n    } else {\n      toast('Please install Metamask to use Solid World Dapp.');\n    }\n  }, []);\n\n  async function handleWalletConnection() {\n    setIsLoading(true);\n\n    if (!userWallet.connected) {\n      try {\n        setButtonText(\"Wallet Connected\");\n        console.log('Connecting MetaMask...');\n        const connectMetamask = await connect(wagmiObj);\n\n        if (connectMetamask.data) {\n          if (window.ethereum.chainId !== '0x13881') {\n            await checkNetwork();\n          }\n\n          setUserWallet(prevUserWallet => ({ ...prevUserWallet,\n            network: window.ethereum.chainId,\n            address: connectMetamask.data.account,\n            connected: true\n          }));\n          toast.success('Connected Account to Solid World Dapp.', {\n            duration: 3000\n          });\n          console.log('Connected Account to Mumbai Network: ', connectMetamask.data.account);\n        }\n\n        setIsLoading(false);\n        return;\n      } catch (error) {\n        setUserWallet(defaultUserWalletState);\n        console.log('Connecting MetaMask Error: ', error, connectDataError);\n        setIsLoading(false);\n        window.location.reload();\n        return;\n      }\n    } else {\n      setUserWallet(defaultUserWalletState);\n      toast.error('Disconnected Account.', {\n        duration: 3000\n      });\n      console.log('User wallet disconnect');\n      setIsLoading(false);\n      return;\n    }\n  }\n\n  async function checkNetwork() {\n    console.log('Connecting MetaMask to Mumbai Network...');\n    toast.loading('Please connect your Metamask to Mumbai Polygon Testnet to use Solid World Dapp');\n\n    try {\n      await window.ethereum.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{\n          chainId: '0x13881'\n        }]\n      });\n      return;\n    } catch (switchError) {\n      if (isMobile || switchError.code === 4902) {\n        try {\n          await window.ethereum.request({\n            method: 'wallet_addEthereumChain',\n            params: [mumbaiChainParameter]\n          });\n          return;\n        } catch (addError) {\n          console.log('Connecting Mumbai Network: ', addError.message);\n          throw addError;\n        }\n      }\n\n      console.log('Connecting Mumbai Netowrk: ', switchError.message);\n      throw switchError;\n    }\n  } // Connect MetaMask Mumbai Netowrk End//\n  // Contract Connection //\n\n\n  const [contract, setContract] = useState(null);\n  const [signer, setSigner] = useState(null);\n  const [name, setName] = useState(null);\n  const [symbol, setSymbol] = useState(null);\n  const [decimals, setDecimals] = useState(null);\n  const [totalSuply, setTotalSuply] = useState(null);\n  const [balance, setBalance] = useState(null);\n  const contractAddress = '0x2C963ebaFCF40016AE7Ef5B3236a480de4Dc491B';\n\n  const updateContract = () => {\n    let tempProvider = new ethers.providers.JsonRpcProvider(url);\n    let tempSigner = tempProvider.getSigner(accountData.address);\n    setSigner(tempSigner);\n    let tempContract = new ethers.Contract(contractAddress, sct_abi, tempSigner);\n    setContract(tempContract);\n  };\n\n  const connectWallet = async () => {\n    handleWalletConnection();\n    updateContract();\n  };\n\n  async function updateInfos() {\n    let tempName = await contract.name();\n    setName(tempName);\n    let tempSymbol = await contract.symbol();\n    setSymbol(tempSymbol);\n    let tempDecimals = await contract.decimals();\n    setDecimals(tempDecimals);\n    let tempTotalSuply = await contract.totalSupply();\n    let totalSupplyParsed = ethers.utils.formatEther(tempTotalSuply);\n    setTotalSuply(totalSupplyParsed);\n    let tempBalance = await contract.balanceOf(accountData.address);\n    let balanceParsed = ethers.utils.formatEther(tempBalance);\n    setBalance(balanceParsed);\n  }\n\n  const transfer = event => {\n    event.preventDefault();\n    let transferAmount = document.getElementById('transferAddress').value;\n    let recieverAddress = document.getElementById('transferAmount').value;\n    let txt;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"light\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          children: \"SCT TESTE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Text, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-dark\",\n            onClick: connectWallet,\n            children: buttonText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center pt-3\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-dark\",\n        onClick: updateInfos,\n        children: \"Get contract infos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"py-3\",\n              children: [\"Token Name: \", name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"py-3\",\n              children: [\"Token Symbol: \", symbol, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"py-3\",\n              children: [\"Balance: \", balance]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"py-3\",\n              children: [\"Decimals: \", decimals, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"py-3\",\n              children: [\"Total Suply: \", totalSuply]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Transfer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: transfer,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Addres:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                id: \"transferAddress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                id: \"transferAmount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-2 \",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  children: \"Transfer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"K/AxERnGog4VrG5+2NzhFn07Dbw=\", false, function () {\n  return [useAccount, useConnect];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/macbook/Documents/pre-dao/src/App.js"],"names":["Container","Navbar","Button","Form","Col","Row","ethers","React","useState","useEffect","useConnect","useAccount","toast","Toaster","isMobile","sct_abi","url","defaultUserWalletState","address","network","connected","mumbaiChainParameter","chainId","chainName","nativeCurrency","name","symbol","decimals","rpcUrls","blockExplorerUrls","App","data","accountData","disconnect","fetchEns","isLoading","setIsLoading","userWallet","setUserWallet","buttonText","setButtonText","connectData","loading","connectDataLoading","error","connectDataError","connect","wagmiObj","connectors","map","obj","window","ethereum","on","accounts","console","log","undefined","prevUserWallet","location","reload","handleWalletConnection","connectMetamask","checkNetwork","account","success","duration","request","method","params","switchError","code","addError","message","contract","setContract","signer","setSigner","setName","setSymbol","setDecimals","totalSuply","setTotalSuply","balance","setBalance","contractAddress","updateContract","tempProvider","providers","JsonRpcProvider","tempSigner","getSigner","tempContract","Contract","connectWallet","updateInfos","tempName","tempSymbol","tempDecimals","tempTotalSuply","totalSupply","totalSupplyParsed","utils","formatEther","tempBalance","balanceOf","balanceParsed","transfer","event","preventDefault","transferAmount","document","getElementById","value","recieverAddress","txt"],"mappings":"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","sourcesContent":["import {Container, Navbar, Button, Form, Col, Row} from 'react-bootstrap'\nimport { ethers } from \"ethers\";\nimport React, {useState, useEffect} from 'react'\nimport { useConnect, useAccount } from 'wagmi'\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { isMobile } from \"react-device-detect\";\nimport sct_abi from './contracts/sct_abi.json'\n\nconst url = \"https://polygon-mumbai.g.alchemy.com/v2/LDruTtddIy66V4Lr7gEXbQgjBTdBCHzL\";\n\nconst defaultUserWalletState = {\n  address: '0x0000000000000000000000000000000000000000',\n  network: null,\n  connected: false\n}\n\nconst mumbaiChainParameter = {\n  chainId: \"0x13881\",\n  chainName: \"Mumbai\",\n  nativeCurrency: {\n    name: \"MATIC\",\n    symbol: \"MATIC\",\n    decimals: 18,\n  },\n  rpcUrls: [\"https://rpc-mumbai.maticvigil.com\"],\n  blockExplorerUrls: [\"https://mumbai.polygonscan.com/\"],\n}\nfunction App() {\n\n  // Connect MetaMask Mumbai Start End //\n\n  const [{ data: accountData }, disconnect] = useAccount({\n    fetchEns: true,\n  })\n\n  let [isLoading, setIsLoading] = React.useState(false);\n\n  let [userWallet, setUserWallet] = React.useState(defaultUserWalletState);\n\n  let [buttonText, setButtonText] = React.useState('Connect Wallet')\n\n  const [{\n    data: connectData,\n    loading: connectDataLoading,\n    error: connectDataError\n  }, connect] = useConnect();\n\n  let wagmiObj;\n  connectData.connectors.map(obj => { wagmiObj = obj });\n\n  React.useEffect(() => {\n    if (typeof window.ethereum !== 'undefined') {\n      window.ethereum.on('accountsChanged', (accounts) => {\n        console.log(`Wallet changed: ${accounts[0]}`);\n        if (accounts[0] === undefined) {\n          setUserWallet(defaultUserWalletState);\n        }\n        else if (accounts[0] !== userWallet.address) {\n          setUserWallet(prevUserWallet => ({\n            ...prevUserWallet,\n            address: accounts[0]\n          }));\n        }\n      })\n      window.ethereum.on('chainChanged', (chainId) => {\n        console.log(`Network changed: ${chainId}`);\n        if (chainId !== '0x13881') {\n          window.location.reload();\n        }\n      })\n    } else {\n      toast('Please install Metamask to use Solid World Dapp.');\n    }\n  }, []);\n\n  async function handleWalletConnection() {\n    setIsLoading(true);\n    if (!userWallet.connected) {\n      try {\n        setButtonText(\"Wallet Connected\");\n        console.log('Connecting MetaMask...');\n        const connectMetamask = await connect(wagmiObj);\n        if (connectMetamask.data) {\n          if (window.ethereum.chainId !== '0x13881') { \n            await checkNetwork();\n          }\n          setUserWallet(prevUserWallet => ({\n            ...prevUserWallet,\n            network: window.ethereum.chainId,\n            address: connectMetamask.data.account,\n            connected: true\n          }));\n          toast.success('Connected Account to Solid World Dapp.', {duration: 3000});\n          console.log('Connected Account to Mumbai Network: ', connectMetamask.data.account);\n        }\n        setIsLoading(false);\n        return;\n      } catch (error) {\n        setUserWallet(defaultUserWalletState);\n        console.log('Connecting MetaMask Error: ', error, connectDataError);\n        setIsLoading(false);\n        window.location.reload();\n        return;\n      }\n    } else {\n      setUserWallet(defaultUserWalletState);\n      toast.error('Disconnected Account.', { duration: 3000 });\n      console.log('User wallet disconnect');\n      setIsLoading(false);\n      return;\n    }\n  }\n\n  async function checkNetwork() {\n    console.log('Connecting MetaMask to Mumbai Network...');\n    toast.loading('Please connect your Metamask to Mumbai Polygon Testnet to use Solid World Dapp');\n    try {\n      await window.ethereum.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{ chainId: '0x13881' }],\n      });\n      return;\n    } catch (switchError) {\n      if (isMobile || switchError.code === 4902) {\n        try {\n          await window.ethereum.request({\n            method: 'wallet_addEthereumChain',\n            params: [\n              mumbaiChainParameter\n            ],\n          });\n          return;\n        } catch (addError) {\n          console.log('Connecting Mumbai Network: ', addError.message);\n          throw addError;\n        }\n      }\n      console.log('Connecting Mumbai Netowrk: ', switchError.message);\n      throw switchError;\n    }\n  }\n\n// Connect MetaMask Mumbai Netowrk End//\n\n// Contract Connection //\nconst [contract, setContract] = useState(null);\nconst [signer, setSigner] = useState(null);\nconst [name, setName] = useState(null);\nconst [symbol, setSymbol] = useState(null);\nconst [decimals, setDecimals] = useState(null);\nconst [totalSuply, setTotalSuply] = useState(null);\nconst [balance, setBalance] = useState(null);\n\nconst contractAddress = '0x2C963ebaFCF40016AE7Ef5B3236a480de4Dc491B'\n\nconst updateContract = () => {\n  let tempProvider = new ethers.providers.JsonRpcProvider(url);\n  let tempSigner = tempProvider.getSigner(accountData.address)\n  setSigner(tempSigner)\n  let tempContract = new ethers.Contract(contractAddress, sct_abi, tempSigner)\n  setContract(tempContract);\n} \nconst connectWallet = async () => {\n  handleWalletConnection();\n  updateContract()\n};\n\nasync function updateInfos(){\n  let tempName = await contract.name()\n  setName(tempName)\n  let tempSymbol = await contract.symbol()\n  setSymbol(tempSymbol)\n  let tempDecimals = await contract.decimals()\n  setDecimals(tempDecimals)\n  let tempTotalSuply = await contract.totalSupply()\n  let totalSupplyParsed = ethers.utils.formatEther(tempTotalSuply)\n  setTotalSuply(totalSupplyParsed)\n  let tempBalance = await contract.balanceOf(accountData.address)\n  let balanceParsed = ethers.utils.formatEther(tempBalance)\n  setBalance(balanceParsed)\n}\n\nconst transfer = (event) => {\n  event.preventDefault()\n  let transferAmount = document.getElementById('transferAddress').value;\n  let recieverAddress = document.getElementById('transferAmount').value;\n  let txt \n}\n\nreturn (\n    <div className=\"App\">\n      <Navbar bg=\"light\">\n        <Container>\n          <Navbar.Brand>SCT TESTE</Navbar.Brand>\n          <Navbar.Text><Button variant=\"outline-dark\" onClick={connectWallet}>{buttonText}</Button></Navbar.Text>\n        </Container>\n      </Navbar>\n      <div className=\"text-center pt-3\">\n      <Button variant=\"outline-dark\" onClick={updateInfos}>Get contract infos</Button>\n      </div>\n      <Container>\n        <Row>\n          <Col>\n          <div className=\"pt-5\">\n            <h4 className=\"py-3\">Token Name: {name}</h4>\n            <h4 className=\"py-3\">Token Symbol: {symbol} </h4>\n            <h4 className=\"py-3\">Balance: {balance}</h4>\n            <h4 className=\"py-3\">Decimals: {decimals} </h4>\n            <h4 className=\"py-3\">Total Suply: {totalSuply}</h4>\n          </div>\n          </Col>\n          <Col>\n            <div className=\"pt-5\">\n              <h4>Transfer</h4>\n              <Form onSubmit={transfer}>\n                <Form.Label>Addres:</Form.Label>\n                <Form.Control type=\"text\" id=\"transferAddress\"></Form.Control>\n                <Form.Label>Amount:</Form.Label>\n                <Form.Control type=\"number\" id=\"transferAmount\"></Form.Control>\n                <div className=\"pt-2 \">\n                <Button type='submit'>Transfer</Button>\n                </div>\n              </Form>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n      <div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}